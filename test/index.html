<!--
 * @Author: sumail sumail@xyzzdev.com
 * @Date: 2026-02-02 16:36:38
 * @LastEditors: sumail sumail@xyzzdev.com
 * @LastEditTime: 2026-02-02 20:38:58
 * @FilePath: /start-1/test/index.html
 * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE
-->
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script type="importmap">
      {
        "imports": {
          "three": "./build/three.js",
          "environment": "./build/RoomEnvironment.js"
        }
      }
    </script>

    <script type="module">
      import * as THREE from 'three';
      import { RoomEnvironment } from 'environment';
      import { Pane } from 'https://cdn.jsdelivr.net/npm/tweakpane@4.0.5/dist/tweakpane.min.js';
      import { OrbitControls } from 'https://cdn.jsdelivr.net/npm/three@0.182.0/examples/jsm/Addons.js';

      const vector = new THREE.Vector3(1, 3, 0);

      console.log(vector);

      const vector1 = new THREE.Vector3(7, 2, 0);

      const v2 = vector.add(vector1);
      console.log(v2);

      const pane = new Pane();

      const renderer = new THREE.WebGLRenderer({ antialias: true });
      renderer.setPixelRatio(window.devicePixelRatio);
      renderer.setSize(window.innerWidth, window.innerHeight);
      document.body.appendChild(renderer.domElement);

      const pmremGenerator = new THREE.PMREMGenerator(renderer);

      const scene = new THREE.Scene();
    //   scene.environment = pmremGenerator.fromScene(new RoomEnvironment(), 0.04).texture;

      const camera = new THREE.PerspectiveCamera(70, window.innerWidth / window.innerHeight, 10, 100);
      camera.position.z = 55;

      const geometry = new THREE.TorusKnotGeometry(10, 3, 200, 32).toNonIndexed();

      const mesh = new THREE.Mesh(geometry);
      //   mesh.material = new THREE.MeshLambertMaterial({ color: 0x049ef4 });

      const material1 = new THREE.MeshStandardMaterial({ color: 0x0318e0, roughness: 0, metalness: 1 });
      const material2 = new THREE.MeshNormalMaterial({color: 0xf5d300});
      mesh.material = material2;
      mesh.position.set(...v2);

      pane.addBinding(material1, 'roughness', { min: 0, max: 1, step: 0.1 });
      pane.addBinding(material1, 'metalness', { min: 0, max: 1, step: 0.1 });

      scene.add(mesh);

      // 控制旋转操作
      const controls = new OrbitControls(camera, renderer.domElement);
      controls.enableDamping = true;
      controls.dampingFactor = 0.05;

      function render() {
        requestAnimationFrame(render);
        controls.update();
        // mesh.rotation.x += 0.005;
        // mesh.rotation.y += 0.005;

        renderer.render(scene, camera);
      }

      render();
    </script>
  </body>
</html>
